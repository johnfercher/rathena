<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>eAthena Job System</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Index</a></li><li class="chapter-item expanded "><a href="glossary.html"><strong aria-hidden="true">2.</strong> Glossary</a></li><li class="chapter-item expanded "><a href="effect_list.html"><strong aria-hidden="true">3.</strong> Effect List</a></li><li class="chapter-item expanded "><a href="ea_job_system.html" class="active"><strong aria-hidden="true">4.</strong> eAthena Job System</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#eathena-job-system" id="eathena-job-system">eAthena Job System</a></h1>
<p><img src="https://img.shields.io/badge/Last%20Updated-2013%2F02%2F09-blue" alt="last_updated" /> <img src="https://img.shields.io/badge/Docs-eAthena%20Job%20System-orange" alt="docs" /> <img src="https://img.shields.io/badge/By-Skotlex-red" alt="by" /></p>
<h3><a class="header" href="#description" id="description">Description</a></h3>
<p>A reference description of eA's inner job system (for use in scripts through the eaclass and roclass script commands).</p>
<h3><a class="header" href="#preface" id="preface">Preface:</a></h3>
<p>Most scripters are aware of the class values used in RO and their constants
specified in src/map/script_constants.hpp. Each class has a number associated
to it for referencing, so when someone's class is 9 that means they are a
wizard. However, this list of job numbers has no real order behind it, and
no logic behind it's assignation.</p>
<p>You can add 3999 to a job to get their rebirth ID, but if you try to do the
same to get the Baby class ID, that fails on the super Baby class. Also,
there's no way to calculate, from a given first class, which classes would
be their &quot;evolution&quot;. That is, given the Archer's ID, you cannot just add
a value that will return you &quot;Hunter&quot;, and will still work if applied to
the other classes. It didn't help much when they added Taekwon Boy, a first
class, with an ID of 4046, and much later they added Ninja/Gunslinger with
the IDs 25/24. How do you identify a first class on all this mess without
recurring to very ugly range checks?</p>
<h3><a class="header" href="#the-ea-job-system" id="the-ea-job-system">The eA Job System:</a></h3>
<p>Since the code also required to do this kind of checks for various skills
(the Soul Linker Spirit buffs specifically come to mind), an alternate job
ID system was developed, which attempts to make more sense and make it
easier to check where a particular job stands in relation to the rest.</p>
<p>The scheme consists in that every job can be broken down by 3 criteria:</p>
<h4><a class="header" href="#1---base-job" id="1---base-job">1 - Base Job:</a></h4>
<p>This determines to which class-tree a job belongs. All jobs can be
traced back to their root. The base job of all classes has to be one of the
following:</p>
<table><thead><tr><th align="center">eA Code</th><th align="center">Hex Code</th></tr></thead><tbody>
<tr><td align="center">EAJ_NOVICE</td><td align="center">0x0</td></tr>
<tr><td align="center">EAJ_SWORDMAN</td><td align="center">0x1</td></tr>
<tr><td align="center">EAJ_MAGE</td><td align="center">0x2</td></tr>
<tr><td align="center">EAJ_ARCHER</td><td align="center">0x3</td></tr>
<tr><td align="center">EAJ_ACOLYTE</td><td align="center">0x4</td></tr>
<tr><td align="center">EAJ_MERCHANT</td><td align="center">0x5</td></tr>
<tr><td align="center">EAJ_THIEF</td><td align="center">0x6</td></tr>
<tr><td align="center">EAJ_TAEKWON</td><td align="center">0x7</td></tr>
<tr><td align="center">EAJ_GUNSLINGER</td><td align="center">0x9</td></tr>
<tr><td align="center">EAJ_NINJA</td><td align="center">0x0A</td></tr>
<tr><td align="center">EAJ_GANGSI</td><td align="center">0x0D</td></tr>
<tr><td align="center">EAJ_SUMMONER</td><td align="center">0x10</td></tr>
</tbody></table>
<h4><a class="header" href="#2---branch" id="2---branch">2 - Branch:</a></h4>
<p>All classes can be classified as <strong>1st Class</strong>, <strong>2-1 Class</strong> or <strong>2-2 Class</strong>:</p>
<table><thead><tr><th align="center">eA Code</th><th align="center">Hex Code</th></tr></thead><tbody>
<tr><td align="center">EAJL_2_1</td><td align="center">0x100</td></tr>
<tr><td align="center">EAJL_2_2</td><td align="center">0x200</td></tr>
<tr><td align="center">EAJL_2</td><td align="center">0x300</td></tr>
</tbody></table>
<h4><a class="header" href="#3---type" id="3---type">3 - Type:</a></h4>
<p>The third category is type. Classes can either be normal, rebirth/advanced, adopted, or third class.</p>
<table><thead><tr><th align="center">eA Code</th><th align="center">Hex Code</th></tr></thead><tbody>
<tr><td align="center">EAJL_UPPER</td><td align="center">0x1000</td></tr>
<tr><td align="center">EAJL_BABY</td><td align="center">0x2000</td></tr>
<tr><td align="center">EAJL_THIRD</td><td align="center">0x4000</td></tr>
</tbody></table>
<h4><a class="header" href="#bringing-all-together" id="bringing-all-together">Bringing All Together</a></h4>
<p>So using these three categories, any job class can be constructed from the
others. Let's take a swordman, for example.</p>
<p>The first step is basic swordman, with nothing else:</p>
<p><strong>EAJ_SWORDMAN</strong></p>
<p>If a swordman is adopted...</p>
<table><thead><tr><th align="center">Bitwise Operations</th><th align="center">Result</th></tr></thead><tbody>
<tr><td align="center">EAJ_SWORDMAN|EAJL_BABY</td><td align="center">EAJ_BABY_SWORDMAN</td></tr>
</tbody></table>
<p>The next step is to either become a 2-1 or a 2-2 job:</p>
<table><thead><tr><th align="center">Bitwise Operations</th><th align="center">Result</th></tr></thead><tbody>
<tr><td align="center">EAJ_SWORDMAN|EAJL_2_1</td><td align="center">EAJ_KNIGHT</td></tr>
<tr><td align="center">EAJ_SWORDMAN|EAJL_2_2</td><td align="center">EAJ_CRUSADER</td></tr>
</tbody></table>
<p>Getting out the rebirth versions of a swordman:</p>
<table><thead><tr><th align="center">Bitwise Operations</th><th align="center">Result</th></tr></thead><tbody>
<tr><td align="center">EAJ_SWORDMAN|EAJL_UPPER</td><td align="center">EAJ_SWORDMAN_HIGH</td></tr>
<tr><td align="center">EAJ_SWORDMAN|EAJL_2_1|EAJL_UPPER</td><td align="center">EAJ_LORD_KNIGHT</td></tr>
<tr><td align="center">EAJ_SWORDMAN|EAJL_2_2|EAJL_UPPER</td><td align="center">EAJ_PALADIN</td></tr>
</tbody></table>
<p>Or getting the third job versions:</p>
<table><thead><tr><th align="center">Bitwise Operations</th><th align="center">Result</th></tr></thead><tbody>
<tr><td align="center">EAJ_SWORDMAN|EAJL_2_1|EAJL_THIRD</td><td align="center">EAJ_RUNE_KNIGHT</td></tr>
<tr><td align="center">EAJ_SWORDMAN|EAJL_2_2|EAJL_THIRD</td><td align="center">EAJ_ROYAL_GUARD</td></tr>
</tbody></table>
<p>Why are we using the bitwise OR operand ('|') rather than just adding? Because
the OR is wreck-proof:</p>
<table><thead><tr><th align="center">Bitwise Operations</th><th align="center">Result</th></tr></thead><tbody>
<tr><td align="center">EAJ_SWORDMAN_HIGH|EAJL_UPPER</td><td align="center">EAJ_SWORDMAN_HIGH</td></tr>
</tbody></table>
<p>If we had used addition, we would have gotten a completely different result.</p>
<h3><a class="header" href="#the-eajl-ea-job-level-constants" id="the-eajl-ea-job-level-constants">The EAJL (eA Job Level) constants</a></h3>
<p>There are a few constants which can be used to filter out and make job
comparisons easier. The comparisons involve eA job IDs, not classic job
IDs, using the eaclass() command explained in the next section.</p>
<pre><code>set @eac, eaclass();
</code></pre>
<h4><a class="header" href="#eajl_2_1" id="eajl_2_1">EAJL_2_1:</a></h4>
<p>Checks if the class is a 2-1 class:</p>
<pre><code>if (@eac&amp;EAJL_2_1)
    mes &quot;Using the classic 2-1 job, huh?&quot;;
</code></pre>
<h4><a class="header" href="#eajl_2_2" id="eajl_2_2">EAJL_2_2:</a></h4>
<p>Checks if the class is a 2-2 class:</p>
<pre><code>if (@eac&amp;EAJL_2_2)
    mes &quot;Oh, a 2-2 job!&quot;;
</code></pre>
<h4><a class="header" href="#eajl_2" id="eajl_2">EAJL_2:</a></h4>
<p>Checks if the class is a 2nd Class. If the check fails, you can be sure
the character is a first class.</p>
<pre><code>if (!(@eac&amp;EAJL_2))
    mes &quot;Will you wait until Job 50 to change?&quot;;
</code></pre>
<h4><a class="header" href="#eajl_upper" id="eajl_upper">EAJL_UPPER:</a></h4>
<p>Check if a class is Rebirth/Advanced:</p>
<pre><code>if(@eac&amp;EAJL_UPPER)
    mes &quot;It must have taken you a LONG time...&quot;;
</code></pre>
<h4><a class="header" href="#eajl_baby" id="eajl_baby">EAJL_BABY:</a></h4>
<p>Check if a class is an adopted class.</p>
<pre><code>if (@eac&amp;EAJL_BABY)
    mes &quot;Don't you hate being weak?&quot;;
</code></pre>
<h4><a class="header" href="#eajl_third" id="eajl_third">EAJL_THIRD:</a></h4>
<p>Checks if a class is a third job.</p>
<pre><code>if(@eac&amp;EAJL_THIRD)
    mes &quot;Wow, you've really grown!&quot;;
</code></pre>
<h4><a class="header" href="#eaj_uppermask" id="eaj_uppermask">EAJ_UPPERMASK:</a></h4>
<p>The upper mask can be used to &quot;strip&quot; the upper/baby characteristics of a
class, used when you want to know if someone is a certain class regardless
of rebirth/adopted status. For example, the following code would go through
for Monks, Champions and Baby Monks:</p>
<pre><code>if ((@eac&amp;EAJ_UPPERMASK) == EAJ_MONK)
    mes &quot;Aren't knuckles such a cool weapon?&quot;;
</code></pre>
<p>Note that if instead of EAJ_MONK you used EAJ_CHAMPION or EAJ_BABY_MONK,
the check would had never passed, since the upper/baby state has been
removed from the original job when checking.</p>
<h4><a class="header" href="#eaj_basemask" id="eaj_basemask">EAJ_BASEMASK:</a></h4>
<p>This mask strips also the 2nd class attributes. It can be used to check
against the basic job of a character. For example, the following code would
go through for Merchants (+Baby Merchant and High Merchant), Blacksmiths
(+Baby blacksmiths and Whitesmith) and Alchemist (+Baby Alchemist and
+Creator):</p>
<pre><code>if ((@eac&amp;EAJ_BASEMASK) == EAJ_MERCHANT)
    mes &quot;Why I can't have discount like you guys do?&quot;;
</code></pre>
<p>Note that, like before, if you try to check versus any of the other
classes  (High merchant, blacksmith, etc) instead of basic merchant, the
check will  always fail for the same reasons previously explained.</p>
<h4><a class="header" href="#eaj_thirdmask" id="eaj_thirdmask">EAJ_THIRDMASK:</a></h4>
<p>This mask strips 3rd class attributes.  It will give the &quot;normal&quot; class of
a third job, regardless of rebirth/adopted status.  When used on non-third
class characters, it will return the second job, or, if that also doesn't
exist, the first.</p>
<pre><code>if ((@eac&amp;EAJ_THIRDMASK) == EAJ_WARLOCK_T)
    mes &quot;You've gone through rebirth, I see.&quot;;
</code></pre>
<h2><a class="header" href="#the-script-commands-eaclass-roclass" id="the-script-commands-eaclass-roclass">The script commands eaclass, roclass:</a></h2>
<p>These script commands are what you can use in scripts to convert between
the RO classic job id, and eA's job system. The following script code
demonstrates how to use these script commands to guess what your next job
will be:</p>
<pre><code>set @eac, eaclass();
if (@eac&amp;EAJL_2)
{	//2nd class
    //If upper or baby, you can't rebirth
    if (@eac&amp;(EAJL_UPPER|EAJL_BABY)) {
        mes &quot;You can't go anywhere, can you?&quot;;
        close;
    }
    //Note that if we remove the EAJL_BABY check up there, the following
    //check will also fail, because there's no such thing as Rebirth-Baby
    //classes.
    set @newclass, roclass(@eac|EAJL_UPPER);
    if (@newclass == -1) {
        //Don't you hate this of SG and SL?
        mes &quot;Haha, your class doesn't has a rebirth version yet!&quot;;
        close;
    }
    mes &quot;Still dreaming of the day you become a &quot;+jobname(@newclass)+&quot;?&quot;;
    close;
}
set @class1, roclass(@eac|EAJL_2_1);
set @class2, roclass(@eac|EAJL_2_2);
if (@class1 == -1) {
    mes &quot;Looks like you are stuck forever on that class.&quot;;
    close;
}
if (@class2 == -1) {
    //Not quite true, currently the only 1st class that doesn't has two
    //choices is Novice -&gt; Supernovice (see s.novice section below)
    mes &quot;Looks like you have no choice but to be a &quot;+jobname(@class1)+&quot;.&quot;;
    close;
}
mes &quot;Have you decided yet if you want to be a &quot;+jobname(@class1)+&quot; or a &quot;+jobname(@class2)+&quot;?&quot;;
close;
</code></pre>
<h3><a class="header" href="#oddities-of-the-system" id="oddities-of-the-system">Oddities of the System:</a></h3>
<p><strong>About Bards and Dancers:</strong></p>
<p>These two classes are considered the same in eA's job system, since they
both are the 2-2 job of archers. The only way to tell them apart is by
using the gender of the character we are referring to. The script command
roclass() will automatically use the gender of the attached player (or
'male' if there's no such player), but you can also explicitly pass the
gender to the script command when there's no player attached.</p>
<p><strong>About Novices and Super Novices:</strong></p>
<p>These are treated a bit differently from you'd expect. Because.. for
instance, a novice is not supposed to be a 1st class, but it is considered
as one on this tree system:</p>
<table><thead><tr><th align="center">Bitwise Operations</th><th align="center">Result</th></tr></thead><tbody>
<tr><td align="center">EAJ_NOVICE</td><td align="center">EAJ_NOVICE</td></tr>
<tr><td align="center">EAJ_NOVICE|EAJL_2_1</td><td align="center">EAJ_SUPER_NOVICE</td></tr>
<tr><td align="center">EAJ_NOVICE|EAJL_UPPER</td><td align="center">EAJ_NOVICE_HIGH</td></tr>
<tr><td align="center">EAJ_NOVICE|EAJL_BABY</td><td align="center">EAJ_BABY</td></tr>
<tr><td align="center">EAJ_NOVICE|EAJL_BABY|EAJL_2_1</td><td align="center">EAJ_SUPER_BABY</td></tr>
</tbody></table>
<p>So as you can see, on this job system, the Super Novice is treated as the
2-1 job of a Novice, and the Novice job it's at the same level of the other
1st jobs. Even though that may seem like a hindrance, it makes it very easy
to add a check to discard Novice types from a quest:</p>
<pre><code>if ((eaclass()&amp;EAJ_BASEMASK) == EAJ_NOVICE)
    //Novice class detected.
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="effect_list.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="effect_list.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
